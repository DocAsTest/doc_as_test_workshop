<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Doc as Test workshop</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Doc as Test workshop</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_outillage">2. Outillage</a>
<ul class="sectlevel2">
<li><a href="#_installer_un_viewer">2.1. Installer un viewer</a></li>
<li><a href="#_créer_un_document">2.2. Créer un document</a></li>
<li><a href="#_publier_un_site">2.3. Publier un site</a></li>
<li><a href="#_outillage_pour_docastest">2.4. Outillage pour DocAsTest</a></li>
</ul>
</li>
<li><a href="#_docastest">3. DocAsTest</a>
<ul class="sectlevel2">
<li><a href="#_démarche">3.1. Démarche</a></li>
<li><a href="#_documenter_le_code_existant">3.2. Documenter le code existant</a></li>
<li><a href="#_créer_de_nouvelles_fonctionnalités">3.3. Créer de nouvelles fonctionnalités</a></li>
</ul>
</li>
<li><a href="#_resources">4. Resources</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="qr_code_workshop.html"><img src="qr_code_workshop_fr.svg" alt="qr code workshop fr" width="100px"></a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cet atelier vise à <strong>expérimenter l&#8217;approche <a href="https://sfauvel.github.io/documentationtesting/">DocAsTest</a></strong>.
Vous pouvez trouver des informations et des ressources sur ce concept sur le site <a href="https://sfauvel.github.io/documentationtesting/">DocAsTest</a>.</p>
</div>
<div class="paragraph">
<p>En bref, <strong>chaque méthode de test génère un paragraphe décrivant un comportement</strong>.
L&#8217;agrégation de tous ces paragraphes constitue une documentation complète du produit.
<strong>Le test passe si le texte produit est identique au dernier</strong> qui a été validé.
Dans le cas contraire, un comportement a changé et le test échoue.
Il faut alors soit corriger le code (<em>régression</em>), soit valider le nouveau texte (<em>évolution</em>).</p>
</div>
<div class="paragraph">
<p>Dans cet atelier, nous allons documenter un projet et par la même occasion le tester.
Vous pouvez utiliser <strong>n&#8217;importe lequel de vos projets</strong> pour cet atelier.
Le plus important, c&#8217;est d'<strong>être à l&#8217;aise avec votre environnement de développement</strong> pour vous concentrer sur la démarche.
Vous devez juste être en mesure d&#8217;exécuter des tests sur ce projet et vous devez pouvoir écrire un fichier sur votre disque à partir de ceux çi.
Il pourrait également être intéressant (mais pas nécessairement) de pouvoir le pousser dans un dépôt Github public pour publier la documentation finale et la partager avec les autres participants.</p>
</div>
<div class="paragraph">
<p>Si vous n&#8217;avez pas de projet, vous pouvez cloner ce dépôt : <a href="https://github.com/sfauvel/Parrot-Refactoring-Kata" class="bare">https://github.com/sfauvel/Parrot-Refactoring-Kata</a>.
Il s&#8217;agit d&#8217;un clone du kata présent sur le Github d&#8217;<a href="https://github.com/emilybache">Emily Bache</a>.</p>
</div>
<div class="paragraph">
<p>Ce kata est disponible dans de nombreux langages, vous trouverez donc probablement votre préféré.
Nous avons configuré le projet java avec un outillage assez compet.
Les projets python, javascript et typescript sont également configurés pour démarrer rapidement.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_outillage"><a class="anchor" href="#_outillage"></a>2. Outillage</h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Nous allons tout d&#8217;abord préparer l&#8217;environnement nécessaire à la mise en place d&#8217;une approche <a href="https://sfauvel.github.io/documentationtesting/">DocAsTest</a>.
Pour cela nous verrons les base de la syntaxe <code><a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a></code>, le langage de markup qui nous servira à produire les documents
que nous consulterons à travers un <code>visualiseur</code>.
Nous mettrons ensuite en place les outils pour assurer la validation du contenu de la documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installer_un_viewer"><a class="anchor" href="#_installer_un_viewer"></a>2.1. Installer un viewer</h3>
<div class="paragraph">
<p>Installez un viewer <code><a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a></code> pour visualiser le rendu des fichiers asciidoc sur lesquels nous allons travailler.
Préférez une installation sur votre IDE pour visualiser le résultat lors du développement.</p>
</div>
<details>
<summary class="title">Liste de Viewer</summary>
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Intellij/PyCharm: plugin</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://plugins.jetbrains.com/plugin/7391-asciidoc">AsciiDoc plugin</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>VSCode</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://marketplace.visualstudio.com/items?itemName=asciidoctor.asciidoctor-vscode">AsciiDoc extension</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Web navigator</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://addons.mozilla.org/fr/firefox/addon/asciidoctorjs-live-preview/">Firefox - Asciidoctor.js Live Preview</a></p>
</li>
<li>
<p><a href="https://chrome.google.com/webstore/detail/asciidoctorjs-live-previe/iaalpfgpbocpdfblpnhhgllgbdbchmia">Chrome - Asciidoctor.js Live Preview</a></p>
</li>
<li>
<p><a href="https://microsoftedge.microsoft.com/addons/detail/asciidoctorjs-live-previ/pefkelkanablhjdekgdahplkccnbdggd">Edge - Asciidoctor.js Live Preview</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_créer_un_document"><a class="anchor" href="#_créer_un_document"></a>2.2. Créer un document</h3>
<div class="paragraph">
<p>Nous allons écrire notre premier fichier en <code><a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a></code>.
Pour cela, créez un fichier <code>workshop.adoc</code>.
L&#8217;extension <code>.adoc</code> est utilisée pour les fichiers au format <code><a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a></code>.</p>
</div>
<div class="paragraph">
<p>Décrivez y l&#8217;atelier dans lequel nous sommes avec quelques informations telles que:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un titre</p>
</li>
<li>
<p>Une petite description de ce que vous attendez de cet atelier.</p>
</li>
<li>
<p>Les liens vers des ressources utiles.</p>
</li>
<li>
<p>Un tableau avec quelques informations sur vous et les personnes avec qui vous faites l&#8217;atelier (nom, pseudo, twitter, ).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>N&#8217;hésitez pas à mettre en forme le texte pour obtenir un rendu agréable.</p>
</div>
<div class="paragraph">
<p>Vous trouverez des exemples des syntaxes de base sur la <a href="asciidoc.html">page d&#8217;exemple</a> ou , de manière plus complète, sur la page <a href="https://docs.asciidoctor.org/asciidoc/latest/syntax-quick-reference/">syntax-quick-reference</a> du site <code><a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a></code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_publier_un_site"><a class="anchor" href="#_publier_un_site"></a>2.3. Publier un site</h3>
<div class="paragraph">
<p>Cette étape n&#8217;est pas indispensable pour cet atelier mais elle est intéressante pour goûter à la sensation d&#8217;avoir une documentation à jour et accessible par tous en continu.</p>
</div>
<div class="paragraph">
<p>Nous allons configurer, sur un dépôt github, une action qui publie le contenu de notre documentation.</p>
</div>
<details>
<summary class="title">Publier un site web à partir de fichiers <code><a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a></code> en utilisant les Github Actions</summary>
<div class="content">
<div class="paragraph">
<p>L&#8217;action que nous utilisons va créer une branche.
Il est donc nécessaire de lui donner des droits d&#8217;écriture sur le dépot.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Allez dans <code>Settings &gt; Actions &gt; General &gt; Workflow permissions</code> et autorisez les workflows à écrire sur le dépot.</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p>&#10003; Workflows have read and write permissions in the repository for all scopes.</p>
</li>
<li>
<p>&#10063; Workflows have read permissions in the repository for the contents and packages scopes only.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Nous allons ajouter une action qui créé les fichiers HTML à partir des fichier asciidoc.
Ils seront alors commités dans la branche <code>gh-pages</code>.</p>
</div>
<div class="paragraph">
<p>Si vous clonez le dépot <a href="https://github.com/sfauvel/Parrot-Refactoring-Kata" class="bare">https://github.com/sfauvel/Parrot-Refactoring-Kata</a>,
vous trouverez le fichier <code>.github/workflows/publish_site.yaml</code> qui configure l&#8217;action pour publier le site.
Vous aurez juste à configurer le chemin vers le répertoire où se trouve votre documentation.
Nous vous suggérons de la mettre dans un répertoire <code>docs</code>.
Vous devez avoir un fichier <code>README.adoc</code> dans le répertoire.
Il deviendra le fichier <code>index.html</code> de votre site.</p>
</div>
<div class="paragraph">
<p>Si vous utilisez votre propre projet, créez, dans le répertoire <code>.github/workflows</code>, le fichier <code>publish_site.yaml</code> avec le code suivant et configurez correctement le répertoire de sources.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Publish action</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">name</span><span class="pi">:</span> <span class="s">GitHub Pages Publish</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">main</span> <span class="pi">]</span>
  <span class="na">pull_request</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">main</span> <span class="pi">]</span>

  <span class="na">workflow_dispatch</span><span class="pi">:</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>

    <span class="na">steps</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>

    <span class="c1"># Includes the AsciiDoctor GitHub Pages Action to convert adoc files to html and publish to gh-pages branch</span>
    <span class="c1"># from https://github.com/manoelcampos/asciidoctor-ghpages-action</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">asciidoctor-ghpages</span>
      <span class="na">uses</span><span class="pi">:</span> <span class="s">manoelcampos/asciidoctor-ghpages-action@v2</span>
      <span class="na">with</span><span class="pi">:</span>
        <span class="na">pdf_build</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">asciidoctor_params</span><span class="pi">:</span> <span class="s">--attribute=htmlformat</span>
        <span class="c1">#asciidoctor_params: --attribute=nofooter --attribute=htmlformat</span>
        <span class="c1"># adoc_file_ext: .ascii # default is .adoc</span>
        <span class="na">source_dir</span><span class="pi">:</span> <span class="s">pages/</span> <span class="c1"># default is .</span>
        <span class="c1"># slides_build: true</span>
        <span class="c1"># pre_build: python pre_build.py</span>
        <span class="c1"># post_build:</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Une fois la branche créée, nous pouvons publier son contenu.
Pour cela, allez dans : <code>Settings &gt; Pages &gt; Branch</code>
et choisissez <code>gh-pages</code>.</p>
</div>
<div class="paragraph">
<p>Votre page sera alors visible depuis l&#8217;URL: <code>https://[github account].github.io/[repository]/</code>.</p>
</div>
<div class="paragraph">
<p>Exemple: <a href="https://sfauvel.github.io/doc_as_test_workshop/" class="bare">https://sfauvel.github.io/doc_as_test_workshop/</a></p>
</div>
<div class="paragraph">
<p>Le site sera mis à jour à chaque commit sur votre branche <code>main</code>.
Cela prend généralement 1mn avant de pouvoir consulter le résultat sur votre site publique.</p>
</div>
</div>
</details>
<div class="paragraph">
<p>Vous pouvez également consulter la page <a href="asciidoc_to_html.html">Asciidoc vers HTML</a> qui décrit d&#8217;autres manières de générer des pages HTML.</p>
</div>
</div>
<div class="sect2">
<h3 id="_outillage_pour_docastest"><a class="anchor" href="#_outillage_pour_docastest"></a>2.4. Outillage pour <a href="https://sfauvel.github.io/documentationtesting/">DocAsTest</a></h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>L&#8217;objectif est de valider que la documentation est cohérente avec le comportement de l&#8217;application.
Pour cela, nous allons nous appuyer sur notre framework de test habituel.
Chaque test génerera le contenu d&#8217;un chapitre et vérifiera qu&#8217;il est identique à la précédente version qui a été validée.
C&#8217;est une combinaison des techniques de <code>Living documentation</code> et de <code>Golden Master</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Il y a plusieurs manières de configurer l&#8217;outillage minimal nécessaire à cet atelier.
Choisissez-en une rapide à mettre en place pour vous concentrer sur l&#8217;expérimentation de la méthode quitte à avoir un outillage rudimentaire dans un premier temps.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><a href="#_approvals">Approvals</a></strong>: Le plus simple si vous utilisez le kata en Java, Javascript, Typescript ou Python car <strong>tout est déjà configuré</strong>.</p>
</li>
<li>
<p><strong><a href="#_méthode_de_validation">Méthode de validation</a></strong>: Ecrire une méthode de vérification à appeler à la fin de vos tests. Cela ne nécessite qu&#8217;un <strong>petit développement simple pour obtenir un outillage pleinement utilsable</strong>.</p>
</li>
<li>
<p><strong><a href="#_script_bash_et_git">Script bash et Git</a></strong>: Vous n&#8217;avez qu&#8217;à générer, depuis vos tests, votre document dans votre repo Git et un script bash fourni fera la reste. C&#8217;est <strong>très simple mais la validation est faite par le script et non par vos tests</strong> et donc moins intégré à votre environnement de développement.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_approvals"><a class="anchor" href="#_approvals"></a>2.4.1. Approvals</h4>
<div class="paragraph">
<p>Vous pouvez utiliser la librairie <a href="https://approvaltests.com/">Approvals</a> qui est faite pour valider des contenus par rapport à une version de référence et qui est disponible dans plusieurs langages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Dans le kata <code>Parrot</code>, nous avons configuré cette bibliothèque pour les projets Java, Javascript, Typescript et Python, ce qui vous permet de démarrer rapidement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si vous devez l&#8217;utiliser sur votre projet ou pour d&#8217;autres langages que ceux préconfiguré, vous devrez le type d&#8217;extension des fichiers de sortie pour produire des <code>.adoc</code> et non des <code>.txt</code>.
Cela peut être un peu fastidieux et dans ce cas, il est préférable, pour cet atelier, d&#8217;utiliser l&#8217;une des deux autres façons de faire que nous vous présentons ensuite</p>
</div>
<div class="paragraph">
<p><code>Approvals</code> utilise un fichier <code>.approved</code> comme référence attendue.
Tant que votre contenu est différent de ce fichier, un fichier <code>.received</code> est généré ce qui vous permet de comparer le résultat obtenu avec celui attendu.
Si le fichier <code>.received</code> correspond à ce que vous voulez, il vous suffit de le renommer ou de copier son contenu dans le fichier <code>.approved</code> pour valider la nouvelle référence.</p>
</div>
</div>
<div class="sect3">
<h4 id="_méthode_de_validation"><a class="anchor" href="#_méthode_de_validation"></a>2.4.2. Méthode de validation</h4>
<div class="paragraph">
<p>Si vous ne souhaitez pas intégrer <a href="https://approvaltests.com/">Approvals</a>,
vous pouvez écrire une méthode qui fait l&#8217;équivalent assez rapidement et ce sera suffisant pour nos besoins.</p>
</div>
<div class="paragraph">
<p>Vous trouverez ci-dessous l&#8217;algorithme, à adapter selon votre langage, et qui permet de faire la validation du contenu par rapport à un fichier de référence.
Il faudra appeler cette méthode à la fin de chacun de vos tests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">verifier</span><span class="p">(</span><span class="n">nom_fichier</span><span class="p">,</span> <span class="n">contenu_reçu</span><span class="p">):</span>
  <span class="n">fichier_reçu</span>     <span class="o">=</span> <span class="n">nom_fichier</span> <span class="o">+</span> <span class="sh">"</span><span class="s">received.adoc</span><span class="sh">"</span>
  <span class="n">fichier_approuvé</span> <span class="o">=</span> <span class="n">nom_fichier</span> <span class="o">+</span> <span class="sh">"</span><span class="s">approved.adoc</span><span class="sh">"</span>

  <span class="n">supprimer</span> <span class="n">fichier_reçu</span> <span class="n">s</span><span class="sh">'</span><span class="s">il existe

  si fichier_approuvé n</span><span class="sh">'</span><span class="n">existe</span> <span class="n">pas</span> <span class="n">ou</span> <span class="n">contenu_approuvé</span> <span class="o">!=</span> <span class="n">contenu_reçu</span><span class="p">:</span>
    <span class="n">créer</span> <span class="n">fichier_reçu</span> <span class="n">avec</span> <span class="n">contenu_reçu</span>
    <span class="n">fail</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_script_bash_et_git"><a class="anchor" href="#_script_bash_et_git"></a>2.4.3. Script bash et Git</h4>
<div class="paragraph">
<p>Vous pouvez vous contenter de laisser Git vérifier les modifications dans vos documents.
Nous fournissons un script <code>checkDocInFolder.sh</code> dans le dossier <code>scripts</code>
qui appelle des commandes Git pour détecter les fichiers modifiés dans le répertoire indiqué.
Ces fichiers, générés depuis vos tests, et qui ont un contenu qui a changé, sont considérés comme des tests en échec.</p>
</div>
<div class="paragraph">
<p>Pour valider un fichier et en faire la nouvelle référence, il vous suffit de l&#8217;ajouter dans les fichiers <code>staged</code> avec la commande <code>git add [filename]</code>.</p>
</div>
<div class="listingblock">
<div class="title">Exemple d&#8217;utilisation du script de vérification</div>
<div class="content">
<pre>bash scripts/checkDocInFolder.sh  ./Python/docs</pre>
</div>
</div>
<div class="paragraph">
<p>Pour info, le script utilise la commande git suivante pour détecter les fichiers modifiés :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git status -s --no-renames [DOSSIER]</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docastest"><a class="anchor" href="#_docastest"></a>3. <a href="https://sfauvel.github.io/documentationtesting/">DocAsTest</a></h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Nous allons vous guider à travers une suite d&#8217;étape en se basant sur le <a href="https://github.com/sfauvel/Parrot-Refactoring-Kata">kata de refactoring Parrot</a>.
Vous pouvez tout aussi bien utiliser un de vos projets et adapter les étapes à votre contexte.
L&#8217;important est d&#8217;expérimenter l&#8217;approche et de se faire une idée de son utilisation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_démarche"><a class="anchor" href="#_démarche"></a>3.1. Démarche</h3>
<div class="paragraph">
<p>Une fois l&#8217;outillage mis en place, nous allons pouvoir <strong>documenter l&#8217;application</strong>.
Nous vous indiquons une suite d&#8217;étapes à suivre à titre d&#8217;exemple.
N&#8217;hésitez pas à explorer d&#8217;autres pistes si vous en avez envie.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Pensez avant tout que <strong>vous produisez de la documentation</strong>.
Elle doit-être lisibile, compréhensible et contenir toutes les informations nécessaires pour valider me fonctionnement de votre application.</p>
</li>
<li>
<p>Voyez <strong>chaque test comme l&#8217;écriture d&#8217;un chapitre</strong> et pas seulement comme la validation d&#8217;un cas isolé.
Vous pouvez regrouper, dans un seul test, plusieurs cas que vous auriez habituellement séparés.</p>
</li>
<li>
<p>N&#8217;oubliez pas que <strong>vous n&#8217;êtes pas en train de faire du TDD</strong>.
Ne vous laissez pas restreindre par l&#8217;appplication strict de l&#8217;approche TDD.</p>
</li>
<li>
<p>Vous n&#8217;êtes pas obligé d&#8217;approuver le document systématiquement avant de lancer le test.
Vous pouvez attendre d&#8217;obtenir le résultat qui vous convient visuellement avant d&#8217;en faire une référence.</p>
</li>
<li>
<p>N&#8217;hésitez pas à <strong>créer de petits utilitaires</strong> pour vous aider à l&#8217;écriture en <a href="https://docs.asciidoctor.org/asciidoc/latest/">Asciidoc</a> ou pour représenter les concepts métier et l&#8217;état du système.</p>
</li>
<li>
<p>A terme, les fichiers <code>.approved</code> sont commités avec le projet car ils servent d&#8217;assertion pour les tests.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_documenter_le_code_existant"><a class="anchor" href="#_documenter_le_code_existant"></a>3.2. Documenter le code existant</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Nous allons documenter le code existant et mettre en évidence le comportement actuel.</p>
</div>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Afficher la liste des perroquets existant, si possible, en parcourant cette liste par programmation.</p>
</li>
<li>
<p>Ajouter une image pour chaque perroquet (images disponibles dans le dossier <code>image</code>).</p>
</li>
<li>
<p>Faire un tableau avec la vitesse de chaque perroquet à l&#8217;initialisation.
Utiliser les mêmes paramètres pour chaque perroquet et indiquez ces valeurs dans le document.</p>
</li>
<li>
<p>Pour le perroquet <code>Norwegian Blue</code>, afficher sa vitesse en fonction du voltage par pas de 0.1.</p>
</li>
<li>
<p>Transformer ce tableau pour l&#8217;afficher en ligne (voltage sur la première ligne et vitesse sur la seconde).</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_créer_de_nouvelles_fonctionnalités"><a class="anchor" href="#_créer_de_nouvelles_fonctionnalités"></a>3.3. Créer de nouvelles fonctionnalités</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Nous allons utiliser l&#8217;approche lors de la mise en place de nouvelles fonctionnalités.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Nous voulons modéliser une <code>zone</code> dans laquelle les perroquets peut voyager.
Des <code>sources d&#8217;énergie</code> sont placées à différents endroits de cette <code>zone</code>.
Elles ont une puissance comprise entre 0 et 2.<br>
Le perroquet est placé quelque part dans cette <code>zone</code>.
Il peut se déplacer dans les différentes directions sans pouvoir sortir de la <code>zone</code>.
A chaque mouvement, son voltage diminue de 0,1.
Lorsqu&#8217;il passe sur une source d&#8217;énergie, il augmente son voltage de la puissance de le source d&#8217;énergie et celle çi disparait.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Affichez une table qui va représenter la <code>zone</code>.</p>
</li>
<li>
<p>Indiquee les sources d&#8217;énergie et leur puissance.</p>
</li>
<li>
<p>Localisez l&#8217;emplacement du perroquet.</p>
</li>
<li>
<p>Documentez la fonction de déplacement.</p>
</li>
<li>
<p>Mettez en évidence l&#8217;évolution du voltage du perroquet lors de ces déplacements.</p>
</li>
<li>
<p>Montrez ce qu&#8217;il se passe lorsqu&#8217;il passe sur une source d&#8217;énergie.</p>
</li>
</ol>
</div>
<details>
<summary class="title">Autres exercices</summary>
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ajoutez un nouveau type de perroquet.</p>
</li>
<li>
<p>Refactorer le code de production une fois couvert par vos tests.</p>
</li>
<li>
<p>Calculez le temps mis par le perroquet pendant son trajet.</p>
</li>
<li>
<p>Créez un document présentant le fonctionnement général à travers un ou deux cas et faites des liens vers d&#8217;autres pages contenant le détail complet des comportements.</p>
</li>
<li>
<p>Créez un rapport JSON de l&#8217;état du système.</p>
</li>
<li>
<p>Écrivez un algorithme qui déplace le perroquet pour qu&#8217;il consomme toutes les sources d&#8217;énergie.</p>
</li>
</ol>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources"><a class="anchor" href="#_resources"></a>4. Resources</h2>
<div class="sectionbody">
<div class="dlist glossary">
<dl>
<dt>Cet atelier</dt>
<dd>
<p><a href="https://sfauvel.github.io/doc_as_test_workshop/" class="bare">https://sfauvel.github.io/doc_as_test_workshop/</a></p>
</dd>
<dt>Parrot Kata</dt>
<dd>
<p><a href="https://github.com/sfauvel/Parrot-Refactoring-Kata" class="bare">https://github.com/sfauvel/Parrot-Refactoring-Kata</a></p>
</dd>
<dt>Asciidoc</dt>
<dd>
<p><a href="https://docs.asciidoctor.org/asciidoc/latest/" class="bare">https://docs.asciidoctor.org/asciidoc/latest/</a></p>
</dd>
<dt>Asciidoc quick reference</dt>
<dd>
<p><a href="https://docs.asciidoctor.org/asciidoc/latest/syntax-quick-reference/" class="bare">https://docs.asciidoctor.org/asciidoc/latest/syntax-quick-reference/</a></p>
</dd>
<dt>Living documentation</dt>
<dd>
<p><a href="https://www.youtube.com/watch?v=Tw-wcps7WqU">Living Documentation : vous allez aimer la documentation !</a> -  Cyrille Martraire à Devoxx FR<br>
<a href="https://www.eyrolles.com/Informatique/Livre/living-documentation-9780134689326/">Living Documentation</a> - Livre de Cyrille Martraire</p>
</dd>
<dt>Approvals</dt>
<dd>
<p><a href="https://approvaltests.com/" class="bare">https://approvaltests.com/</a></p>
</dd>
<dt>DocAsTest</dt>
<dd>
<p><a href="https://sfauvel.github.io/documentationtesting/" class="bare">https://sfauvel.github.io/documentationtesting/</a><br>
<a href="https://www.youtube.com/watch?v=1slYI-dBMcc">Human talk (video 10mn in French)</a><br>
<a href="https://www.youtube.com/watch?v=AQDILnknTJ0&amp;feature=youtu.be">Bdx/IO (video 45mn in French)</a></p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-07-05 22:10:46 UTC
</div>
</div>
</body>
</html>